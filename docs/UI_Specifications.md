# مواصفات واجهة المستخدم

هذا المستند يوضح مواصفات واجهة المستخدم لكل صفحة في المشروع.

## صفحة الأصناف الشاذة (`AbnormalItemsPage.jsx`)

**الغرض:** تعرض هذه الصفحة تقريرًا بالأصناف الشاذة. وتشمل هذه المرتجعات اليتيمة من المشتريات (القائمة B) والمبيعات (القائمة D) ، بالإضافة إلى الكميات السالبة والمنتهية الصلاحية من الجرد الفعلي (القائمة F).

**مكونات واجهة المستخدم:**

*   **`UnifiedPageLayout`:** التخطيط الرئيسي للصفحة ، والذي يتضمن عنوانًا ووصفًا.
*   **`UnifiedAlert`:** يتم عرض رسالة تنبيه في حالة عدم وجود بيانات لعرضها. يطالب المستخدم باستيراد ملف Excel أولاً.
*   **`UnifiedTable`:** جدول يعرض الأصناف الشاذة بالأعمدة التالية:
    *   `م` (المعرف)
    *   `رمز المادة`
    *   `اسم المادة`
    *   `الوحدة`
    *   `الكمية` (يتم عرض الكميات السالبة باللون الأحمر).
    *   `الافرادي` (سعر الوحدة)
    *   `تاريخ الصلاحية`
    *   `تاريخ العملية`
    *   `نوع العملية`
    *   `القائمة`
    *   `ملاحظات`
    *   `رقم السجل`
    *   `المورد`
*   **ملخص الجدول:** يحتوي الجدول على صف ملخص يعرض الكمية الإجمالية لجميع الأصناف في الصفحة الحالية.
*   **ترقيم الصفحات:** يحتوي الجدول على ترقيم صفحات مع خيارات لتغيير حجم الصفحة.

## صفحة المخزون الدفتري (`BookInventoryPage.jsx`)

**الغرض:** تعرض هذه الصفحة نتيجة مطابقة صافي المبيعات مع صافي المشتريات وفقًا للمفاتيح الأربعة المحددة. تعرض بشكل أساسي المخزون الدفتري.

**مكونات واجهة المستخدم:**

*   **`UnifiedPageLayout`:** التخطيط الرئيسي للصفحة ، والذي يتضمن عنوانًا ووصفًا وخيارات لإدارة رؤية الأعمدة والفرز وترقيم الصفحات.
*   **`UnifiedAlert`:** يتم عرض رسالة تنبيه في حالة عدم وجود بيانات لعرضها. يطالب المستخدم باستيراد ملف Excel أولاً.
*   **`UnifiedTable`:** جدول يعرض المخزون الدفتري بالأعمدة التالية:
    *   `م` (المعرف)
    *   `رمز المادة`
    *   `اسم المادة`
    *   `الوحدة`
    *   `الكمية`
    *   `تاريخ الصلاحية`
    *   `الافرادي` (سعر الوحدة)
    *   `تاريخ الشراء`
    *   `المورد`
    *   `نوع العملية`
    *   `ملاحظات`
    *   `كمية المبيعات`
*   **رؤية العمود:** يمكن للمستخدم إظهار أو إخفاء الأعمدة في الجدول.
*   **الفرز:** يمكن للمستخدم فرز البيانات حسب أي عمود.
*   **ملخص الجدول:** يحتوي الجدول على صف ملخص يعرض الكمية الإجمالية لجميع الأصناف.
*   **ترقيم الصفحات:** يحتوي الجدول على ترقيم صفحات في الأعلى والأسفل مع خيارات لتغيير حجم الصفحة.

## صفحة المخزون النهائي (`EndingInventoryPage.jsx`)

**الغرض:** تعرض هذه الصفحة نتيجة مطابقة الجرد الفعلي مع صافي المشتريات ، مع إضافة المرتجعات اليتيمة. يعرض المخزون النهائي وقائمة منفصلة لمرتجعات الشراء اليتيمة (القائمة B).

**مكونات واجهة المستخدم:**

*   **`UnifiedPageLayout`:** التخطيط الرئيسي للصفحة ، والذي يتضمن عنوانًا ووصفًا وعناصر تحكم لرؤية الأعمدة والفرز وترقيم الصفحات والتصفية.
*   **`UnifiedAlert`:** يتم عرض رسالة تنبيه في حالة عدم وجود بيانات لعرضها.
*   **`NavigationTabs`:** علامات تبويب للتبديل بين طرق عرض "المخزون النهائي" و "القائمة B: مرتجعات الشراء اليتيمة".
*   **`CollapsibleSection`:** أقسام للتنقل ولكل من الجدولين الرئيسيين ، والتي يمكن طيها أو توسيعها.
*   **`UnifiedTable`:** يتم استخدام جدولين منفصلين لـ "المخزون النهائي" و "القائمة B".
    *   **جدول المخزون النهائي:** يعرض المخزون النهائي بعدد كبير من الأعمدة ، بما في ذلك:
        *   `م` (المعرف) ، `رمز المادة` ، `اسم المادة` ، `الوحدة` ، `الكمية` ، `تاريخ الصلاحية` ، `الافرادي` (سعر الوحدة) ، `الاجمالي` ، `تاريخ الشراء` ، `المورد` ، `عمر الصنف` ، `كمية المبيعات` ، `نسبة الفائض` ، `فائض المخزون` ، `قيمة فائض المخزون` ، `معد للارجاع` ، `قيمة معد للارجاع` ، `مخزون مثالي` ، `قيمة مخزون مثالي` ، `صنف جديد` ، `قيمة صنف جديد` ، `الاحتياج` ، `قيمة الاحتياج` ، `بيان الصلاحية` ، `بيان الحركة` ، `بيان الحالة` ، `البيان` ، `القائمة` ، `رقم السجل` ، `ملاحظات`.
    *   **جدول القائمة B:** يعرض مرتجعات الشراء اليتيمة بمجموعة مماثلة من الأعمدة.
*   **ملخص الجدول:** يحتوي كل جدول على صف ملخص يعرض الكمية الإجمالية ، وبالنسبة للمخزون النهائي ، القيمة الإجمالية للأصناف في الصفحة الحالية.
*   **ترقيم الصفحات:** يحتوي كلا الجدولين على ترقيم صفحات في الأعلى والأسفل مع خيارات لتغيير حجم الصفحة.
*   **التصفية:** تتضمن الصفحة إمكانيات تصفية لتحسين البيانات المعروضة في الجداول.
*   **رؤية العمود:** يمكن للمستخدمين إظهار أو إخفاء الأعمدة في الجداول.
*   **الفرز:** يمكن للمستخدمين فرز البيانات في الجداول.

## صفحة فائض المخزون (`ExcessInventoryPage.jsx`)

**الغرض:** تقوم هذه الصفحة بحساب وعرض الفرق بين إجمالي الكميات في المخزون والمبيعات خلال آخر 90 يومًا ، وتحديد المخزون الفائض.

**مكونات واجهة المستخدم:**

*   **`UnifiedPageLayout`:** التخطيط الرئيسي للصفحة ، بما في ذلك العنوان والوصف وإمكانيات التصفية.
*   **`UnifiedAlert`:** يتم عرض رسالة تنبيه في حالة عدم توفر بيانات للعرض.
*   **`UnifiedTable`:** جدول يعرض تحليل فائض المخزون بالأعمدة التالية:
    *   `رمز المادة`
    *   `اسم المادة`
    *   `الوحدة`
    *   `الكمية`
    *   `كمية المشتريات`
    *   `كمية المبيعات`
    *   `نسبة المبيعات`
    *   `المبيعات (90 يومًا)`
    *   `فائض المخزون`
    *   `نسبة الفائض`
    *   `معد للارجاع`
    *   `الاحتياج`
    *   `بيان الفائض` (يتم عرضه كعلامة ملونة (على سبيل المثال ، "راكد تمامًا" ، "احتياج" ، "مخزون زائد" ، "مناسب")).
*   **ملخص الجدول:** يتضمن الجدول صف ملخص يعرض الإجماليات للكمية وكمية الشراء وكمية المبيعات والمبيعات (90 يومًا) وفائض المخزون والمعد للارجاع والاحتياج.
*   **التصفية:** تتيح الصفحة للمستخدمين تصفية البيانات.

## صفحة مخاطر انتهاء الصلاحية (`ExpiryRiskPage.jsx`)

**الغرض:** تقوم هذه الصفحة بتحليل وتوقع المخاطر المرتبطة بانتهاء صلاحية الأصناف في المخزون.

**مكونات واجهة المستخدم:**

*   **`UnifiedPageLayout`:** التخطيط الرئيسي للصفحة ، والذي يتضمن عنوانًا ووصفًا.
*   **`UnifiedAlert`:** يتم عرض رسالة تنبيه في حالة عدم توفر بيانات.
*   **`UnifiedTable`:** جدول يعرض توقعات مخاطر انتهاء الصلاحية بالأعمدة التالية:
    *   `م` (المعرف)
    *   `رمز المادة`
    *   `اسم المادة`
    *   `الوحدة`
    *   `رقم السجل`
    *   `الكمية الحالية`
    *   `تاريخ الصلاحية`
    *   `الأيام المتبقية` (يتم عرضها بعلامات مرمزة بالألوان بناءً على مدى قرب انتهاء صلاحية الصنف).
    *   `معدل البيع اليومي`
    *   `الكمية المتوقعة للبيع`
    *   `الخطر المتوقع` (الكمية المتوقع انتهاء صلاحيتها ، تظهر باللون الأحمر للخطر الشديد).
    *   `نسبة الخطر %` (يتم عرضها بعلامة مرمزة بالألوان بناءً على مستوى الخطر).
*   **ملخص الجدول:** يحتوي الجدول على صف ملخص يعرض الإجماليات للكمية الحالية والمبيعات المتوقعة والمخاطر المتوقعة.
*   **مربع الشرح:** يوفر مربع في أسفل الصفحة شرحًا تفصيليًا لما يعنيه كل عمود في التقرير.

## صفحة التجديد المثالي (`IdealReplenishmentPage.jsx`)

**الغرض:** تحلل هذه الصفحة فجوة الشراء المثالية لتحديد متطلبات التجديد.

**مكونات واجهة المستخدم:**

*   **`UnifiedPageLayout`:** التخطيط الرئيسي للصفحة ، بما في ذلك العنوان والوصف.
*   **`UnifiedAlert`:** يتم عرض رسالة تنبيه في حالة عدم توفر بيانات.
*   **`UnifiedTable`:** جدول يعرض تحليل فجوة التجديد المثالية بالأعمدة التالية:
    *   `م` (المعرف)
    *   `رمز المادة`
    *   `اسم المادة`
    *   `الوحدة`
    *   `المورد`
    *   `متوسط الاستهلاك اليومي`
    *   `مخزون الأمان`
    *   `نقطة إعادة الطلب`
    *   `الكمية المثالية للشراء`
    *   `الكمية الحالية`
    *   `فجوة المخزون` (الفرق بين الكمية المثالية والحالية ، مرمزة بالألوان للتأكيد).
    *   `الحالة` (حالة الصنف ، معروضة كعلامة ملونة (على سبيل المثال ، "حاجة ملحة" ، "حاجة قريبة" ، "لا شراء" ، "فائض كبير")).
    *   `تاريخ أقرب صلاحية`
    *   `تصنيف ABC` (تصنيف ABC للصنف (A ، B ، أو C) ، يظهر كعلامة ملونة).
*   **ملخص الجدول:** يتضمن الجدول صف ملخص يعرض إجمالي الكمية الحالية وفجوة المخزون في الصفحة.
*   **قسم الإحصائيات:** قسم يعرض إحصائيات التقرير العامة ، بما في ذلك:
    *   إجمالي عدد الأصناف.
    *   عدد الأصناف التي تحتاج إلى "حاجة ملحة".
    *   عدد الأصناف التي تحتاج إلى "حاجة قريبة".
    *   عدد الأصناف التي لا تحتاج إلى "شراء".
    *   عدد الأصناف التي بها "فائض كبير".
    *   إجمالي فجوة المخزون.
*   **قسم الشرح والتوصيات:** قسم مفصل في أسفل الصفحة يشرح معنى كل عمود ويقدم توصيات بناءً على حالة الصنف.

## صفحة استيراد البيانات (`ImportDataPage.jsx`)

**الغرض:** تتيح هذه الصفحة للمستخدم استيراد ملف Excel يحتوي على بيانات المبيعات والمشتريات والمخزون الفعلي وأرصدة الموردين. ثم يقوم بمعالجة هذه البيانات من خلال سلسلة من الخطوات لإنشاء جميع التقارير اللازمة.

**مكونات واجهة المستخدم:**

*   **العنوان:** عنوان للصفحة ، "استيراد البيانات".
*   **تنبيه التشخيص:** تنبيه يعرض أي معلومات تشخيصية ، مثل أخطاء التحقق من صحة البيانات.
*   **زر الاستيراد:** زر أساسي يفتح مربع حوار ملف للمستخدم لتحديد ملف Excel. يتغير نص الزر لإظهار اسم الملف المحدد. كما يظهر حالة تحميل أثناء المعالجة.
*   **تنبيه الحالة:** تنبيه يعرض الحالة الحالية للاستيراد والمعالجة ، بما في ذلك رسائل النجاح والخطأ والتحذير.
*   **التعليمات:** قسم به إرشادات للمستخدم حول كيفية تنسيق ملف Excel ، بما في ذلك أسماء الأوراق والأعمدة المطلوبة.

**سير العمل:**

1.  **اختيار الملف:** ينقر المستخدم على زر "اختر ملف Excel" ، الذي يفتح مربع حوار ملف النظام.
2.  **قراءة الملف:** يقرأ التطبيق ملف Excel المحدد ، ويستخرج البيانات من أوراق "المشتريات" و "المبيعات" و "المخزون" و "الأرصدة".
3.  **التحقق من صحة البيانات:** يتم التحقق من صحة البيانات المستوردة مقابل مخطط محدد مسبقًا للتأكد من وجود جميع الأعمدة المطلوبة وتنسيقها بشكل صحيح.
4.  **التحقق من كفاية البيانات:** يتحقق التطبيق مما إذا كانت هناك بيانات كافية لإنشاء التقارير.
5.  **تطبيع البيانات:** يتم تطبيع البيانات إلى تنسيق متسق.
6.  **التحقق من سلامة البيانات المالية:** يتحقق التطبيق من سلامة البيانات المالية.
7.  **المعالجة المتسلسلة:** تتم معالجة البيانات في تسلسل محدد:
    *   حساب صافي المشتريات
    *   حساب صافي المبيعات
    *   معالجة المخزون الفعلي
    *   دمج البيانات (التلقيح المتبادل)
    *   حساب المخزون الفائض
    *   حساب المخزون النهائي
    *   حساب تكلفة المبيعات
    *   حساب مستحقات الموردين
    *   حساب المخزون الدفتري
    *   حساب الأصناف الشاذة
    *   ملخص الحسابات الرئيسية
    *   إثراء صافي المشتريات
8.  **معالجة البيانات:** بمجرد معالجة جميع البيانات ، يتم تمريرها إلى مكون التطبيق الرئيسي ليتم عرضها في صفحات التقرير المختلفة.

## صفحة تحليل ABC للمخزون (`InventoryABCPage.jsx`)

**الغرض:** توفر هذه الصفحة تحليل ABC للمخزون ، وتصنيف الأصناف بناءً على أهميتها الاستراتيجية وفقًا لقيمة استهلاكها.

**مكونات واجهة المستخدم:**

*   **`UnifiedPageLayout`:** التخطيط الرئيسي ، بما في ذلك العنوان والوصف وعناصر التحكم في رؤية الأعمدة وترقيم الصفحات والتصفية.
*   **`UnifiedAlert`:** يتم عرض رسالة تنبيه في حالة عدم توفر بيانات.
*   **`UnifiedTable`:** جدول يعرض تحليل ABC بالأعمدة التالية:
    *   `م` (المعرف)
    *   `رمز المادة`
    *   `اسم المادة`
    *   `الوحدة`
    *   `عدد عمليات البيع`
    *   `الكمية المباعة`
    *   `قيمة الاستهلاك السنوي`
    *   `القيمة التراكمية %` (معروضة كشريط تقدم).
    *   `التصنيف ABC` (يظهر كعلامة ملونة (A ، B ، أو C)).
*   **ملخص الجدول:** يتضمن الجدول صف ملخص يعرض الإجماليات لعدد معاملات البيع والكمية المباعة وقيمة الاستهلاك السنوي.
*   **قسم الإحصائيات:** قسم يعرض إحصائيات لكل تصنيف (A ، B ، و C) ، بما في ذلك عدد الأصناف وقيمتها الإجمالية.
*   **قسم الشرح:** قسم في الأسفل يشرح معنى كل تصنيف والأعمدة في الجدول.
*   **التصفية:** يسمح للمستخدمين بتصفية البيانات.
*   **رؤية العمود:** يمكن للمستخدمين إظهار أو إخفاء الأعمدة في الجدول.

## صفحة دوران المخزون (`InventoryTurnoverPage.jsx`)

**الغرض:** تحلل هذه الصفحة دوران المخزون لقياس كفاءة إدارة المخزون.

**مكونات واجهة المستخدم:**

*   **`UnifiedPageLayout`:** التخطيط الرئيسي للصفحة ، والذي يتضمن عنوانًا ووصفًا.
*   **`UnifiedAlert`:** يتم عرض رسالة تنبيه في حالة عدم توفر بيانات.
*   **`UnifiedTable`:** جدول يعرض تحليل دوران المخزون بالأعمدة التالية:
    *   `م` (المعرف)
    *   `رمز المادة`
    *   `اسم المادة`
    *   `الوحدة`
    *   `المورد`
    *   `متوسط المخزون`
    *   `تكلفة المبيعات السنوية`
    *   `معدل دوران المخزون` (مرمز بالألوان بناءً على القيمة).
    *   `فترة التخزين بالأيام` (مرمزة بالألوان بناءً على القيمة).
    *   `حركة آخر 90 يومًا`
    *   `فئة الدوران` (معروضة كعلامة ملونة (على سبيل المثال ، "سريع" ، "متوسط" ، "بطيء" ، "راكد")).
    *   `مؤشر المخاطرة` (درجة مخاطرة من 0-100 ، تظهر كعلامة ملونة).
*   **ملخص الجدول:** يظهر صف ملخص في الجدول إجمالي متوسط المخزون وتكلفة المبيعات السنوية للصفحة الحالية.
*   **قسم الإحصائيات:** قسم يقدم إحصائيات شاملة للتقرير ، بما في ذلك:
    *   إجمالي عدد الأصناف.
    *   عدد الأصناف في كل فئة دوران (سريع ، متوسط ، بطيء ، راكد).
    *   معدل دوران المخزون الإجمالي للسنة.
*   **قسم الشرح والتوصيات:** قسم يشرح كل عمود في التقرير ويقدم توصيات بناءً على فئة الدوران.

## صفحة ربحية الأصناف (`ItemProfitabilityPage.jsx`)

**الغرض:** تحلل هذه الصفحة ربحية الأصناف لتحديد المنتجات الأكثر مساهمة في أرباح الشركة وتقييم هامش الربح لكل صنف.

**مكونات واجهة المستخدم:**

*   **`UnifiedPageLayout`:** التخطيط الرئيسي للصفحة ، والذي يتضمن عنوانًا ووصفًا وعناصر تحكم لرؤية الأعمدة وترقيم الصفحات والتصفية.
*   **`UnifiedAlert`:** يتم عرض رسالة تنبيه في حالة عدم توفر بيانات.
*   **قسم المخططات:** قسم يحتوي على أربعة مخططات مختلفة:
    *   **أهم الأصناف ربحية:** مخطط شريطي عمودي يوضح أفضل 10 أصناف ربحية.
    *   **توزيع هامش الربح:** مخطط دائري يوضح توزيع الأصناف عبر فئات هامش الربح المختلفة (مرتفع ، متوسط ، منخفض ، صفر ، سلبي).
    *   **أهم المساهمين في الأرباح:** مخطط شريطي يوضح أفضل 10 أصناف تساهم في أرباح الشركة الإجمالية.
    *   **مقارنة المبيعات مقابل التكلفة:** مخطط شريطي يقارن المبيعات والتكلفة لأفضل الأصناف ربحية.
*   **`UnifiedTable`:** جدول يعرض تحليل ربحية الأصناف بالأعمدة التالية:
    *   `م` (المعرف)
    *   `رمز المادة`
    *   `اسم المادة`
    *   `الوحدة`
    *   `عدد عمليات البيع`
    *   `الكمية المباعة`
    *   `قيمة المبيعات`
    *   `تكلفة المبيعات`
    *   `إجمالي الربح` (مرمز بالألوان (الأخضر للربح والأحمر للخسارة)).
    *   `نسبة هامش الربح %` (معروضة كعلامة ملونة).
    *   `نسبة المساهمة %` (مساهمة الصنف في إجمالي ربح الشركة ، تظهر كعلامة ملونة).
*   **ملخص الجدول:** يوضح صف ملخص في الجدول إجماليات معاملات البيع والكمية المباعة وقيمة المبيعات وتكلفة المبيعات وإجمالي الربح.
*   **قسم الشرح:** قسم في أسفل الصفحة يشرح معنى كل عمود في التقرير.
*   **التصفية ورؤية العمود:** تتيح الصفحة للمستخدمين تصفية البيانات والتحكم في الأعمدة المرئية في الجدول.

## صفحة الحسابات الرئيسية (`MainAccountsPage.jsx`)

**الغرض:** توفر هذه الصفحة ملخصًا للحسابات الرئيسية ، وتعرض عرضًا موحدًا لقيم الديون والمخزون لكل حساب رئيسي.

**مكونات واجهة المستخدم:**

*   **`UnifiedPageLayout`:** التخطيط الرئيسي للصفحة ، مع عنوان ووصف.
*   **`UnifiedAlert`:** يتم عرض رسالة تنبيه في حالة عدم توفر بيانات.
*   **`UnifiedTable`:** جدول يعرض ملخص الحسابات الرئيسية بالأعمدة التالية:
    *   `م` (المعرف)
    *   `الحساب الرئيسي`
    *   `عدد الموردين`
    *   `إجمالي المديونية`
    *   `إجمالي قيمة المخزون`
    *   `صافي الفجوة` (الفرق بين قيمة المخزون والديون ، مرمزة بالألوان لإظهار فجوة إيجابية أو سلبية).
    *   `إجمالي الاستحقاق`
    *   `فائض المخزون`
    *   `معد للارجاع`
    *   `مخزون مثالي`
    *   `اصناف جديدة`
    *   `الاحتياج`
*   **ملخص الجدول:** يحتوي الجدول على صف ملخص يعرض الإجماليات لجميع الأعمدة الرقمية.
*   **ملاحظة توضيحية:** ملاحظة في الأسفل تشرح كيفية حساب "صافي الفجوة".

## صفحة صافي المشتريات (`NetPurchasesPage.jsx`)

**الغرض:** تعرض هذه الصفحة المشتريات بعد خصم المرتجعات المطابقة ، بالإضافة إلى المرتجعات التي لم تتم مطابقتها. كما تعرض بيانات من المطابقة مع الجرد الفعلي.

**مكونات واجهة المستخدم:**

*   **`UnifiedPageLayout`:** التخطيط الرئيسي للصفحة ، ويوفر عنوانًا ووصفًا وعناصر تحكم لرؤية الأعمدة والفرز وترقيم الصفحات والتصفية.
*   **`UnifiedAlert`:** يتم عرض رسالة تنبيه في حالة عدم توفر بيانات.
*   **`NavigationTabs`:** علامات تبويب للتبديل بين "القائمة أ: المشتريات الفعلية" و "القائمة ب: المرتجعات اليتيمة".
*   **`CollapsibleSection`:** أقسام قابلة للطي لعلامات تبويب التنقل ولكل من الجدولين الرئيسيين.
*   **`UnifiedTable`:** جدولان منفصلان لـ "المشتريات الفعلية" و "المرتجعات اليتيمة".
    *   **جدول المشتريات الفعلية (القائمة أ):** يعرض صافي المشتريات بالأعمدة التالية:
        *   `م` (المعرف) ، `رمز المادة` ، `اسم المادة` ، `الوحدة` ، `الكمية` ، `كمية الجرد` ، `كمية المبيعات` ، `الافرادي` (سعر الوحدة) ، `تاريخ الصلاحية` ، `المورد` ، `تاريخ العملية` ، `نوع العملية` ، `رقم السجل` ، `ملاحظات` ، `القائمة`.
    *   **جدول المرتجعات اليتيمة (القائمة ب):** يعرض مرتجعات الشراء التي لا يمكن مطابقتها ، مع مجموعة مماثلة من الأعمدة.
*   **ملخص الجدول:** يحتوي كل جدول على صف ملخص.
    *   يعرض جدول "المشتريات الفعلية" الإجماليات للصفحة الحالية والإجماليات الإجمالية للكمية وكمية المخزون وكمية المبيعات.
    *   يعرض جدول "المرتجعات اليتيمة" الكمية الإجمالية.
*   **التصفية والفرز ورؤية العمود:** توفر الصفحة عناصر تحكم لتصفية البيانات والفرز حسب الأعمدة وإدارة رؤية العمود.

## صفحة صافي المبيعات (`NetSalesPage.jsx`)

**الغرض:** تعرض هذه الصفحة المبيعات بعد خصم المرتجعات المطابقة ، بالإضافة إلى المرتجعات التي لم تتم مطابقتها.

**مكونات واجهة المستخدم:**

*   **`UnifiedPageLayout`:** التخطيط الرئيسي للصفحة ، ويوفر عنوانًا ووصفًا وعناصر تحكم لرؤية الأعمدة والفرز وترقيم الصفحات والتصفية.
*   **`UnifiedAlert`:** يتم عرض رسالة تنبيه في حالة عدم توفر بيانات.
*   **`NavigationTabs`:** علامات تبويب للتبديل بين "القائمة ج: المبيعات الفعلية" و "القائمة د: المرتجعات اليتيمة".
*   **`CollapsibleSection`:** أقسام قابلة للطي لعلامات تبويب التنقل ولكل من الجدولين الرئيسيين.
*   **`UnifiedTable`:** جدولان منفصلان لـ "المبيعات الفعلية" و "المرتجعات اليتيمة".
    *   **جدول المبيعات الفعلية (القائمة ج):** يعرض صافي المبيعات بالأعمدة التالية:
        *   `م` (المعرف) ، `رمز المادة` ، `اسم المادة` ، `الوحدة` ، `الكمية` ، `الافرادي` (سعر الوحدة) ، `تاريخ الصلاحية` ، `تاريخ العملية` ، `نوع العملية` ، `ملاحظات` ، `القائمة`.
    *   **جدول المرتجعات اليتيمة (القائمة د):** يعرض مرتجعات المبيعات التي لا يمكن مطابقتها ، مع مجموعة مماثلة من الأعمدة.
*   **ملخص الجدول:** يحتوي كل جدول على صف ملخص يعرض الكمية الإجمالية.
*   **التصفية والفرز ورؤية العمود:** توفر الصفحة عناصر تحكم لتصفية البيانات والفرز حسب الأعمدة وإدارة رؤية العمود.

## صفحة أداء الأصناف الجديدة (`NewItemsPerformancePage.jsx`)

**الغرض:** تحلل هذه الصفحة أداء الأصناف الجديدة لتحديد المنتجات التي تستحق الاستمرار والتي يجب إيقافها.

**مكونات واجهة المستخدم:**

*   **`UnifiedPageLayout`:** التخطيط الرئيسي للصفحة ، مع عنوان ووصف.
*   **`UnifiedAlert`:** يتم عرض رسالة تنبيه في حالة عدم توفر بيانات.
*   **`UnifiedTable`:** جدول يعرض تحليل أداء الأصناف الجديدة بالأعمدة التالية:
    *   `م` (المعرف) ، `رمز المادة` ، `اسم المادة` ، `الوحدة` ، `المورد`.
    *   `تاريخ أول شراء`.
    *   `مدة التواجد في السوق (أيام)`.
    *   `كمية الشراء الأولية`.
    *   `كمية المبيعات`.
    *   `نسبة تصريف الكمية (٪)` (مرمزة بالألوان بناءً على النسبة المئوية).
    *   `معدل البيع اليومي`.
    *   `الربح الإجمالي` (مرمز بالألوان (الأخضر للربح والأحمر للخسارة)).
    *   `هامش الربح ٪`.
    *   `تقييم الأداء` (يُعرض كعلامة ملونة (على سبيل المثال ، "ممتاز" ، "جيد" ، "مقبول" ، "ضعيف")).
    *   `مؤشر المخاطرة` (يُعرض كعلامة ملونة ("منخفض" ، "متوسط" ، "مرتفع")).
    *   `حالة الصنف` (توصية بشأن الصنف ، تظهر كعلامة ملونة (على سبيل المثال ، "استمرار" ، "مراقبة" ، "اختبار" ، "إلغاء")).
*   **ملخص الجدول:** يتضمن الجدول صف ملخص يعرض الإجماليات لكمية الشراء الأولية وكمية المبيعات.
*   **قسم الإحصائيات:** قسم يقدم إحصائيات شاملة للتقرير ، بما في ذلك:
    *   إجمالي عدد الأصناف الجديدة.
    *   عدد الأصناف في كل فئة أداء (ممتاز ، جيد ، مقبول ، ضعيف).
    *   معدل التصريف الإجمالي وإجمالي الربح.
*   **قسم الشرح والتوصيات:** قسم يشرح كل عمود ويقدم توصيات بناءً على تقييم الأداء.

## صفحة المخزون الفعلي (`PhysicalInventoryPage.jsx`)

**الغرض:** تعرض هذه الصفحة المخزون الفعلي ، وتقسيمه إلى كميات موجبة (القائمة E) وكميات سالبة أو منتهية الصلاحية (القائمة F).

**مكونات واجهة المستخدم:**

*   **`UnifiedPageLayout`:** التخطيط الرئيسي للصفحة ، والذي يتضمن عنوانًا ووصفًا وعناصر تحكم لرؤية الأعمدة والفرز وترقيم الصفحات والتصفية.
*   **`UnifiedAlert`:** يتم عرض رسالة تنبيه في حالة عدم توفر بيانات.
*   **`Radio.Group`:** مجموعة أزرار اختيار للتبديل بين "القائمة E: الكميات الموجبة" و "القائمة F: الكميات السالبة والمنتهية الصلاحية".
*   **`UnifiedTable`:** يتم استخدام جدولين منفصلين للقائمة E والقائمة F.
    *   **جدول القائمة E:** يعرض الأصناف ذات الكميات الموجبة.
    *   **جدول القائمة F:** يعرض الأصناف ذات الكميات السالبة أو المنتهية الصلاحية.
    *   يحتوي كلا الجدولين على الأعمدة التالية: `م` (المعرف) ، `رمز المادة` ، `اسم المادة` ، `الوحدة` ، `الكمية` ، `تاريخ الصلاحية` ، `ملاحظات` ، `القائمة` ، `رقم السجل`.
*   **ملخص الجدول:** يحتوي كل جدول على صف ملخص يعرض الكمية الإجمالية للأصناف في تلك القائمة.
*   **التصفية والفرز وترقيم الصفحات:** توفر الصفحة عناصر تحكم لتصفية البيانات والفرز حسب الأعمدة وترقيم الصفحات عبر النتائج.

## صفحة تجهيز المرتجعات (`PreparingReturnsPage.jsx`)

**الغرض:** تم تصميم هذه الصفحة لمساعدة المستخدمين على تجهيز الأصناف لإعادتها إلى الموردين. تعرض قائمة بالعناصر الموصى بإرجاعها بناءً على عوامل مثل تاريخ انتهاء الصلاحية وأداء المبيعات.

**المواصفات الهيكلية والوظيفية (RTL):**

*   **التخطيط الرئيسي:** تستخدم الصفحة `div` مبطن قياسي كحاوية رئيسية. تتم محاذاة كل المحتوى من اليمين إلى اليسار.
*   **عنوان الصفحة:** يتم عرض مكون `Title` بارز مع أيقونة `FileTextOutlined` في أعلى يمين الصفحة. نص العنوان هو "تقرير تجهيز المرتجعات".
*   **قسم الإحصائيات:**
    *   يقوم مكون `Row` مع ثلاثة مكونات `Col` بترتيب ثلاث مكونات `Card` أفقيًا.
    *   في RTL ، يتم ترتيب هذه البطاقات من اليمين إلى اليسار.
    *   تحتوي كل `Card` على مكون `Statistic` لعرض المقاييس الرئيسية:
        1.  "إجمالي الأصناف"
        2.  "إجمالي الكمية"
        3.  "إجمالي القيمة"
    *   يتم تمييز كل `Statistic` بأيقونة `FileTextOutlined` موضوعة على يمين القيمة.
*   **جدول البيانات:**
    *   يحتوي مكون `Card` على `Table` الرئيسي للعناصر التي سيتم إرجاعها.
    *   **أعمدة الجدول (من اليمين إلى اليسار):** يتم ترتيب الأعمدة من اليمين إلى اليسار على النحو التالي:
        *   `البيان`
        *   `بيان الحركة`
        *   `بيان الصلاحية`
        *   `مبيعات الصنف`
        *   `عمر الصنف`
        *   `المورد`
        *   `تاريخ الصلاحية`
        *   `اجمالي الشراء`
        *   `الافرادي` (سعر الوحدة)
        *   `الكمية`
        *   `الوحدة`
        *   `اسم المادة`
        *   `رمز المادة`
        *   `م` (المعرف)
    *   **محاذاة البيانات:** تتم محاذاة البيانات الرقمية (`الكمية` ، `الافرادي` ، `اجمالي الشراء` ، `مبيعات الصنف`) إلى اليمين داخل خلاياها. تتم محاذاة بيانات النص بشكل عام إلى اليمين كما هو معتاد في RTL.
    *   **التنسيق الشرطي:**
        *   تستخدم أعمدة `بيان الصلاحية` و `بيان الحركة` مكونات `Tag` ملونة للإشارة بصريًا إلى الحالة (على سبيل المثال ، اللون الأحمر لـ "منتهي الصلاحية" أو "راكد").
    *   **ترقيم الصفحات:** يتضمن الجدول عناصر تحكم في ترقيم الصفحات في الأسفل ، وهي أيضًا متوافقة مع RTL. تم تنسيق نص "إظهار الإجمالي" باللغة العربية.
    *   **التمرير الأفقي:** الجدول قابل للتمرير أفقيًا (`scroll = {{x: 1500}}`) لاستيعاب العدد الكبير من الأعمدة.

**السلوك الوظيفي:**

1.  **تحميل البيانات:** عند تحميل المكون ، تحاكي الصفحة تحميل البيانات لمدة 500 مللي ثانية. خلال هذا الوقت ، يعرض الجدول مؤشر تحميل.
2.  **إثراء البيانات:** يتم إثراء بيانات هذه الصفحة (خاصية `data`) بمعلومات المبيعات من بيانات `excessInventory` (التي تم تمريرها عبر خاصية `allData`). يستخدم `Map` للبحث الفعال عن بيانات المبيعات بناءً على رمز الصنف.
3.  **حساب الإحصائيات:** يتم حساب الإحصائيات الموجودة في الجزء العلوي من الصفحة (إجمالي الأصناف والكمية والقيمة) بناءً على `preparingReturnsData`.
4.  **تفاعل المستخدم:** يمكن للمستخدم تصفح قائمة الأصناف وفرز الأعمدة واستخدام عناصر تحكم ترقيم الصفحات للتنقل عبر البيانات.

## صفحة تكلفة المبيعات (`SalesCostPage.jsx`)

**الغرض:** تعرض هذه الصفحة تكلفة وربحية كل معاملة بيع ، مع تحديد تكلفة الشراء المقابلة.

**المواصفات الهيكلية والوظيفية (RTL):**

*   **`UnifiedPageLayout`:** التخطيط الرئيسي للصفحة ، مع عنوان ووصف وعناصر تحكم لرؤية الأعمدة والفرز وترقيم الصفحات.
*   **`UnifiedAlert`:** يتم عرض رسالة تنبيه في حالة عدم توفر بيانات.
*   **`UnifiedTable`:** جدول يعرض تحليل تكلفة المبيعات بالأعمدة التالية ، مرتبة من اليمين إلى اليسار:
    *   `ملاحظات` (يستخدم `Tag` ملون للحالة).
    *   `بيان الربحية` (يستخدم `Tag` ملون).
    *   `عمر العملية`
    *   `اجمالي الربح` (مرمز بالألوان (الأخضر للربح والأحمر للخسارة)).
    *   `نسبة الربح`
    *   `افرادي الربح` (مرمز بالألوان).
    *   `رقم السجل`
    *   `المورد`
    *   `تاريخ الشراء`
    *   `افرادي الشراء`
    *   `الافرادي` (سعر الوحدة)
    *   `تاريخ العملية`
    *   `تاريخ الصلاحية`
    *   `الكمية`
    *   `الوحدة`
    *   `اسم المادة`
    *   `رمز المادة`
    *   `م` (المعرف)
*   **ملخص الجدول:** يتضمن الجدول صفي ملخص: أحدهما للصفحة الحالية والآخر للإجماليات الكلية. يعرض كلا الملخصين الكمية الإجمالية وإجمالي الربح.
*   **تفاعل المستخدم:** تتيح الصفحة للمستخدمين فرز البيانات حسب أي عمود والتحكم في رؤية الأعمدة وترقيم الصفحات عبر البيانات.

## صفحة مخاطر الركود (`StagnationRiskPage.jsx`)

**الغرض:** تحلل هذه الصفحة مخاطر ركود الأصناف في المخزون بناءً على أنماط حركتها.

**المواصفات الهيكلية والوظيفية (RTL):**

*   **`UnifiedPageLayout`:** التخطيط الرئيسي للصفحة ، ويتضمن عنوانًا ووصفًا.
*   **`UnifiedAlert`:** يتم عرض رسالة تنبيه في حالة عدم توفر بيانات.
*   **`UnifiedTable`:** جدول يعرض تحليل مخاطر الركود بالأعمدة التالية ، مرتبة من اليمين إلى اليسار:
    *   `تصنيف الخطورة` (يستخدم `Tag` ملون).
    *   `مؤشر الخطورة` (مرمز بالألوان بناءً على القيمة).
    *   `فترة التخزين المتوقعة (أيام)`.
    *   `معدل دوران المخزون`.
    *   `متوسط الفترة بين المبيعات (أيام)`.
    *   `متوسط الكمية المباعة`.
    *   `عدد مرات البيع`.
    *   `الكمية الحالية`.
    *   `الوحدة`.
    *   `اسم المادة`.
    *   `رمز المادة`.
    *   `م` (المعرف).
*   **ملخص الجدول:** يظهر صف ملخص في الجدول الكمية الإجمالية الحالية.
*   **قسم الإحصائيات:** قسم يقدم إحصائيات شاملة للتقرير ، بما في ذلك:
    *   إجمالي عدد الأصناف.
    *   عدد الأصناف في كل فئة مخاطر (عالية ، متوسطة ، منخفضة).
*   **قسم الشرح:** قسم يشرح كل عمود في التقرير.
*   **تفاعل المستخدم:** يمكن للمستخدم فرز البيانات حسب أي عمود وترقيم الصفحات عبر النتائج.

## صفحة حركة المورد (`SupplierMovementPage.jsx`)

**الغرض:** توفر هذه الصفحة تقريرًا تفصيليًا عن حركة الأصناف لمورد محدد ، بما في ذلك المخزون والمبيعات والمرتجعات.

**المواصفات الهيكلية والوظيفية (RTL):**

*   **التخطيط الرئيسي:** الصفحة محاطة بـ `div` مبطن.
*   **عنوان الصفحة ووصفها:** يتم عرض `Title` وفقرة وصفية في أعلى يمين الصفحة.
*   **اختيار المورد:**
    *   يسمح مكون `Select` للمستخدم بالبحث عن مورد وتحديده من قائمة منسدلة.
    *   تمتلئ القائمة المنسدلة بأسماء الموردين الفريدة من بيانات `suppliersPayables`.
*   **بطاقة ملخص المورد:**
    *   بمجرد تحديد مورد ، يتم عرض `Card` بعنوان "تقرير اجمالي المورد".
    *   تحتوي هذه البطاقة على تخطيط `Row` و `Col` لعرض المقاييس المالية الرئيسية للمورد المحدد ، مثل:
        *   "رصيد المورد"
        *   "قيمة المخزون"
        *   "الاستحقاق"
        *   "المبلغ المستحق"
        *   "قيمة المخزون الراكد"
        *   "قيمة المخزون الزائد"
        *   "قيمة الاحتياج"
        *   "قيمة المعد للارجاع"
*   **جدول المخزون المفصل:**
    *   `Card` بعنوان "تقرير مخزون مورد" يحتوي على `Table` يعرض جميع أصناف المخزون للمورد المحدد.
    *   يحتوي الجدول على الأعمدة التالية (RTL): `البيان` ، `بيان الحركة` ، `بيان الصلاحية` ، `مبيعات الصنف` ، `عمر الصنف` ، `تاريخ الصلاحية` ، `اجمالي الشراء` ، `الافرادي` ، `الكمية` ، `الوحدة` ، `اسم المادة` ، `رمز المادة` ، `م`.
*   **جدول الأصناف القابلة للإرجاع:**
    *   `Card` بعنوان "تقرير مخزون مورد معد للارجاع" يحتوي على `Table` يعرض فقط الأصناف الموصى بإرجاعها.
    *   يستخدم هذا الجدول نفس أعمدة جدول المخزون المفصل.
*   **السلوك الوظيفي:**
    *   تكون الصفحة فارغة في البداية حتى يتم تحديد مورد.
    *   عند تحديد مورد ، تقوم الصفحة بتصفية وعرض البيانات ذات الصلة ديناميكيًا في بطاقة الملخص والجدولين.
    *   يتم إثراء البيانات بمعلومات المبيعات وعمر الصنف ، والتي يتم حسابها بسرعة.

## صفحة بطاقات تقييم الموردين (`SupplierScorecardsPage.jsx`)

**الغرض:** تقيم هذه الصفحة أداء الموردين بناءً على عدة مؤشرات مثل الجودة والتسعير ومعدلات الإرجاع.

**المواصفات الهيكلية والوظيفية (RTL):**

*   **`UnifiedPageLayout`:** التخطيط الرئيسي للصفحة ، ويتضمن عنوانًا ووصفًا وعناصر تحكم لرؤية الأعمدة والترقيم والتصفية.
*   **`UnifiedAlert`:** يتم عرض رسالة تنبيه في حالة عدم توفر بيانات.
*   **`UnifiedTable`:** جدول يعرض بطاقات أداء الموردين بالأعمدة التالية ، مرتبة من اليمين إلى اليسار:
    *   `الدرجة الإجمالية` (يتم عرضها كـ `Tag` ملون بارز).
    *   `درجة التسعير` (يتم عرضها كشريط `Progress`).
    *   `درجة الجودة` (يتم عرضها كشريط `Progress`).
    *   `تباين الأسعار`.
    *   `نسبة المرتجعات %` (يتم عرضها كـ `Tag` ملون).
    *   `إجمالي القيمة المرتجعة`.
    *   `إجمالي الكمية المرتجعة`.
    *   `إجمالي القيمة المشتراة`.
    *   `إجمالي الكمية المشتراة`.
    *   `عدد الأصناف`.
    *   `المورد`.
    *   `م` (المعرف).
*   **ملخص الجدول:** يوضح صف ملخص في الجدول الإجماليات لعدد الموردين والكمية والقيمة المشتراة والكمية والقيمة المرتجعة.
*   **قسم الشرح:** قسم يشرح كل عمود في التقرير.
*   **تفاعل المستخدم:** تتيح الصفحة للمستخدمين تصفية البيانات حسب المورد والتحكم في رؤية الأعمدة وترقيم الصفحات عبر البيانات.

## صفحة مستحقات الموردين (`SuppliersPayablesPage.jsx`)

**الغرض:** تعرض هذه الصفحة ملخصًا شاملاً لاستحقاقات الموردين ، بما في ذلك الرصيد الحالي للموردين ، وقيمة المخزون المرتبط بهم ، وتفاصيل المخزون حسب حالته (مثل الفائض أو المعد للإرجاع).

**المواصفات الهيكلية والوظيفية (RTL):**

*   **`UnifiedPageLayout`:** التخطيط الرئيسي للصفحة ، والذي يتضمن عنوانًا ووصفًا وعناصر تحكم لرؤية الأعمدة والفرز والترقيم والتصفية.
*   **`UnifiedAlert`:** يتم عرض رسالة تنبيه في حالة عدم توفر بيانات.
*   **`UnifiedTable`:** جدول يعرض ملخص مستحقات الموردين بالأعمدة التالية ، مرتبة من اليمين إلى اليسار:
    *   `مخزون زائد`
    *   `قريب جدا`
    *   `راكد تماما`
    *   `منتهي`
    *   `الاحتياج`
    *   `اصناف جديدة`
    *   `مخزون مثالي`
    *   `معد للارجاع`
    *   `فائض المخزون`
    *   `المبلغ المستحق`
    *   `الاستحقاق`
    *   `قيمة المخزون`
    *   `الرصيد`
    *   `الحساب المساعد`
    *   `دائن`
    *   `مدين`
    *   `المورد`
    *   `رمز الحساب`
    *   `م` (المعرف)
*   **ملخص الجدول:** يتضمن الجدول صف ملخص يعرض الإجماليات الكلية لجميع الأعمدة الرقمية (مدين ، دائن ، الرصيد ، قيمة المخزون ، الاستحقاق ، المبلغ المستحق ، فائض المخزون ، معد للارجاع ، مخزون مثالي ، أصناف جديدة ، الاحتياج ، منتهي ، راكد تمامًا ، قريب جدًا ، مخزون زائد).
*   **تفاعل المستخدم:** تتيح الصفحة للمستخدمين تصفية البيانات والفرز حسب الأعمدة والتحكم في رؤية الأعمدة وترقيم الصفحات عبر البيانات.
