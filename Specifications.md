وثيقة مواصفات المشروع Project specifications document
نظام المحاسبة والمخزون المحلي (YosSoft Offline Inventory Accounting System)
الإصدار: 1.0 | تاريخ الإصدار: 23 نوفمبر 2025 | المالك: يو سوفت للبرامج والتطبيقات

1. الغرض والنطاق

الغرض: توثيق متطلبات نظام محاسبي متكامل يعمل محليًا بالكامل (Offline-First) لمعالجة حتى 200,000 سجل بدقة محاسبية كاملة. تُستخدم الوثيقة كمرجع تنفيذي للمطورين، مختبري الجودة، ومديري المشروع.
النطاق: تطبيق سطح مكتب يستورد بيانات من Excel، يعالجها محلياً بخوارزميات مطابقة متعددة المستويات، ويولّد تقارير مالية وتحليلية قابلة للطباعة والتصدير، مع دعم عربي RTL.

2. نظرة عامة على المشروع

اسم المشروع: YosSoftAccounting Offline Inventory Accounting System
الرؤية: نظام محاسبي محلي لمعالجة المشتريات، المبيعات، المخزون، وتحليل الاداء المالي بدقة 100% دون الاعتماد على الإنترنت.
الاهداف:
تطبيق كامل لمنطق المحاسبة الموثق في Accountinglogic.md.
اداء مستقر وسريع مع مجموعات بيانات كبيرة.
تجربة استخدام عربية كاملة مع طباعة وتصدير احترافيين.

3. تعريفات ومصطلحات

Offline-First: جميع الوظائف الاساسية تعمل دون اتصال بالشبكة؛ اي مزامنة خارجية مستقبلية اختيارية.
NetPurchases: المشتريات الصافية بعد خصم مرتجعات الشراء.
NetSales: المبيعات الصافية بعد خصم مرتجعات البيع.
Physical Inventory: المخزون الفعلي الناتج عن الجرد اليدوي.
Ending Inventory: المخزون النهائي الناتج عن ربط المخزون الفعلي ببيانات الشراء.
Book Inventory: الجرد الدفتري الناتج عن مطابقة المبيعات مع المشتريات المتبقية غير المغطاة بالمخزون الفعلي.
Supplier Payables: استحقاقات الموردين بناءً على الارصدة والمخزون النهائي.

4. افتراضات واعتماديات

توفر ملفات Excel منظّمة وفق الاعمدة والاسماء المحددة في هذه الوثيقة.
دقة النتائج تعتمد على صحة واكتمال البيانات المستوردة.
Accountinglogic.md هو المصدر المرجعي الرئيسي لكل قواعد الحساب والمطابقة.

5. المتطلبات العامة

نوع النظام: تطبيق سطح مكتب (Desktop Application).
وضع التشغيل: Offline-First (لا يتطلب اتصالاً بالإنترنت).
اللغات المدعومة: العربية فقط (اتجاه RTL).
الانظمة المدعومة: Windows 10/11، Ubuntu 20.04+، macOS 11+.
القدرات:
استيراد بيانات من Excel (اربع اوراق).
معالجة 200,000 سجل مع خوارزميات مطابقة متعددة (حتى 18 مستوى).
توليد تقارير مالية وتحليلية متقدمة.
زمن استجابة لكل عملية رئيسية ≤ 10 ثوانٍ.
نموذج بيانات غير تراكمي: استيراد ملف جديد = حذف كامل للبيانات السابقة قبل البدء بالاستيراد الجديد.

6. التقنيات المستخدمة

إطار العمل: Electron.
واجهة المستخدم: React + Vite.
مكونات الواجهة: Ant Design مع دعم RTL عبر ConfigProvider direction="rtl".
الخلفية: Node.js.
التصدير: ExcelJS او xlsx.
الطباعة: معاينة عبر WebView/المتصفح المدمج (Print/Export to PDF).

7. نموذج البيانات والمدخلات/المخرجات

آلية الاستيراد:
إنشاء جداول مؤقتة في الذاكرة/ملف مؤقت.
حذف جميع البيانات السابقة ضمن Transaction قبل الاستيراد الجديد.
عند نجاح الاستيراد: بدء المعالجة تلقائياً، إظهار عدد السجلات لكل جدول.
عند الفشل: رسائل خطا تفصيلية مع عدم تغيير البيانات السابقة (Rollback).
الجداول المؤقتة (اسماء الاعمدة يجب ان تطابق تماماً):
Purchases: م, رمز_المادة, اسم_المادة, الكمية, الافرادي, تاريخ_الصلاحية, المورد, تاريخ_العملية, نوع_العملية.
Sales: م, رمز_المادة, اسم_المادة, الكمية, الافرادي, تاريخ_الصلاحية, تاريخ_العملية, نوع_العملية.
Physical_Inventory: رمز_المادة, اسم_المادة, الكمية, تاريخ_الصلاحية, ملاحظات.
SupplierBalances: م, رمز_الحساب, المورد, مدين, دائن, الحساب_المساعد.
المخرجات الفورية بعد الاستيراد:
تاكيد نجاح/فشل الاستيراد.
عدد السجلات المستوردة لكل جدول.
بدء المعالجة المحاسبية التلقائية (FR-00).

8. سير المعالجة العام

FR-00: معالجة محاسبية تلقائية بعد الاستيراد (تبدا مباشرة عند نجاح الاستيراد) بالترتيب:
1. FR-01: NetPurchases
2. FR-02: NetSales
3. FR-03: Physical Inventory
4. FR-04: Stock Surplus
5. FR-05: Ending Inventory
6. FR-06: Book Inventory
7. FR-07: Sales Cost
8. FR-08: Supplier Payables

9. المتطلبات الوظيفية التفصيلية (FR)

FR-01: بناء صافي المشتريات (NetPurchases)


الهدف: حساب المشتريات الصافية بعد خصم المرتجعات.
مفاتيح المطابقة (8 بالترتيب):
1. (رمز المادة، الكمية، المورد، تاريخ الصلاحية، الافرادي)
2. (رمز المادة، المورد، تاريخ الصلاحية، الافرادي المُقرَّب) + شرط التاريخ
3. (رمز المادة، المورد، تاريخ الصلاحية) + شرط التاريخ
4. (رمز المادة، تاريخ الصلاحية، الافرادي) + شرط التاريخ
5. (رمز المادة، تاريخ الصلاحية) + شرط التاريخ
6. (رمز المادة، المورد، الافرادي) + اقرب صلاحية + شرط التاريخ
7. (رمز المادة، المورد) + اقرب صلاحية + شرط التاريخ
8. (رمز المادة) + اقرب صلاحية + شرط التاريخ
النواتج:
قائمة A: مشتريات صافية (كميات موجبة).
قائمة B: مرتجعات يتيمة (كميات سالبة) تُحوّل إلى NetSales.

FR-02: بناء صافي المبيعات (NetSales)


الهدف: حساب المبيعات الصافية بعد خصم المرتجعات.
مفاتيح المطابقة (10 بالترتيب؛ مع شرط تاريخ المرتجع ≥ تاريخ البيع):
1. (رمز المادة، تاريخ الصلاحية، الافرادي، الكمية)
2. (رمز المادة، تاريخ الصلاحية، الافرادي بعد التقريب لاقرب رقم عشري، الكمية)
3. (رمز المادة، تاريخ الصلاحية، الكمية)
4. (رمز المادة، تاريخ الصلاحية، الافرادي)
5. (رمز المادة، تاريخ الصلاحية، الافرادي بعد التقريب لاقرب رقم عشري)
6. (رمز المادة، تاريخ الصلاحية)
7. (رمز المادة، الافرادي، الكمية) مع مراعاة الصلاحية الاقرب فالابعد
8. (رمز المادة، الافرادي) مع مراعاة الصلاحية الاقرب فالابعد
9. (رمز المادة، الكمية) مع مراعاة الصلاحية الاقرب فالابعد
10. (رمز المادة) مع مراعاة الصلاحية الاقرب فالابعد
النواتج:
قائمة C: مبيعات صافية (كميات موجبة).
قائمة D: مرتجعات مبيعات يتيمة (كميات سالبة) تُحوّل إلى NetPurchases.

FR-03: معالجة المخزون الفعلي (Physical Inventory)


الهدف: تنظيف وتوحيد بيانات الجرد الفعلي.
الخطوات:
تصنيف السجلات: سالب، منتهي، معالجة، موجب.
مطابقة الكميات السالبة مع الموجبة لنفس المادة.
نقل الكميات المنتهية للصلاحية إلى تاريخ الصلاحية الاقرب فالابعد.
حذف السجلات المتطابقة بعد التسوية.
النواتج:
قائمة E: كميات موجبة صالحة.
قائمة F: كميات سالبة + منتهية تُحوّل إلى NetSales.

FR-04: تقرير فائض المخزون (Stock Surplus)


الهدف: مقارنة المخزون الحالي بالمبيعات خلال آخر 90 يوم.
الحساب: فائض = إجمالي المخزون − إجمالي المبيعات (90 يوم).
التصنيفات:
راكد تماماً: المبيعات = 0
احتياج: فائض < 0
مخزون زائد: فائض > 0
مناسب: فائض = 0

FR-05: بناء المخزون النهائي (Ending Inventory)


الهدف: ربط المخزون الفعلي ببيانات المشتريات.
مفاتيح المطابقة:
1. (رمز المادة، تاريخ الصلاحية)
2. (رمز المادة)
الحقول المضافة:
بيانات الشراء: السعر، المورد، التاريخ.
بيان الصلاحية: منتهي، قريب جداً، قريب، بعيد.
بيان الحركة: من تقرير الفائض.
البيان: دمج الصلاحية + الحركة.
عمر الصنف (بالايام منذ تاريخ الشراء).
الحالة: معد للإرجاع، صنف جديد، جيد.
فائض المخزون لكل سجل.

FR-06: بناء الجرد الدفتري (Book Inventory)


الهدف: مطابقة المبيعات مع المشتريات المتبقية غير المغطاة بالمخزون الفعلي.
المدخلات: NetPurchases (السجلات بكمية جرد = 0)، NetSales (كل السجلات).
مفاتيح المطابقة (مع شروط التاريخ):
1. (رمز المادة، تاريخ الصلاحية، الكمية) + تاريخ صافي المبيعات ≥ تاريخ صافي المشتريات
2. (رمز المادة، تاريخ الصلاحية) + تاريخ صافي المبيعات ≥ تاريخ صافي المشتريات
3. (رمز المادة) + تاريخ صافي المبيعات ≥ تاريخ صافي المشتريات
4. (رمز المادة) + تاريخ صافي المبيعات < تاريخ صافي المشتريات بثلاثة ايام كحد اقصى؛ عند عدم التطابق تُسجّل ملاحظة: لا يوجد مشتريات

FR-07: حساب تكلفة المبيعات (Sales Cost)


الهدف: ربط كل بيع بتكلفة الشراء الفعلية.
الحسابات:
افرادي الربح = سعر البيع − سعر الشراء
نسبة الربح = (افرادي الربح ÷ سعر البيع) × 100
إجمالي الربح = افرادي الربح × الكمية
بيان الربحية: ربح/خسارة

FR-08: حساب استحقاقات الموردين (Supplier Payables)


الهدف: حساب المبالغ المستحقة لكل مورد.
الحسابات:
الرصيد = مدين − دائن
قيمة المخزون = مجموع الإجماليات من Ending Inventory
الاستحقاق = قيمة المخزون + الرصيد
تحديد المبلغ المستحق:
إذا الاستحقاق ≥ -999 ⇒ 0
إذا الاستحقاق < -1000 ⇒ القيمة المطلقة للاستحقاق
الحقول الإضافية:
راكد تماماً، مخزون زائد، احتياج، اصناف جديدة
منتهي، قريب جداً
معد للإرجاع (مجموع الحالات السلبية)

10. التقارير والتفاعلات

FR-09: تقرير صافي المشتريات


محتوى: قوائم A + B بكامل الحقول، يظهر عدد السجلات في العنوان.
فلاتر: المورد، نوع العملية، القائمة، الفترة الزمنية.

FR-10: تقرير صافي المبيعات


محتوى: قوائم C + D بكامل الحقول.
فلاتر: نوع العملية، القائمة، الفترة الزمنية.

FR-11: تقرير المخزون الفعلي


محتوى: قائمة E فقط.
فلاتر: رمز المادة، الملاحظات.

FR-12: تقرير فائض المخزون


محتوى: ملخص لكل مادة.
فلاتر: بيان الفائض.

FR-13: تقرير المخزون النهائي


محتوى: جميع الحقول المحسوبة.
فلاتر: البيان، الحالة، بيان الصلاحية، المورد.

FR-14: تقرير الجرد الدفتري


محتوى: المشتريات والمبيعات المتطابقة.
فلاتر: نوع العملية، الملاحظات.

FR-15: تقرير تكلفة المبيعات


محتوى: كل عملية مع ربحيتها.
فلاتر: بيان الربحية، المورد، الفترة.

FR-16: تقرير استحقاقات الموردين


محتوى: ملخص لكل مورد.
فلاتر: المبلغ المستحق > 0.

FR-17: تقرير حركة مورد


مدخلات: اسم المورد او رقم حسابه.
مخرجات:
إجماليات المورد (بطاقات افقية).
تفاصيل مخزون المورد (جدول).
الاصناف المعدة للإرجاع (جدول فرعي).

FR-18: البحث السريع


بحث نصي فوري في جميع اعمدة الجدول الحالي عند الكتابة، غير حساس لحالة الاحرف، يدعم النصي والرقمي.

FR-19: التصفية المتقدمة


قوائم منسدلة للقيم، نطاقات ارقام (من/إلى)، نطاقات تواريخ (من/إلى).
تطبيق فوري بمنطق AND، مع زر إعادة تعيين.

FR-20: الترتيب


النقر على راس العمود: الاول تصاعدي، الثاني تنازلي، الثالث إلغاء الترتيب.

FR-21: الطباعة


معاينة طباعة احترافية (PDF او طباعة مباشرة).
راس: اسم الشركة، اسم التقرير، التاريخ.
تذييل: رقم الصفحة، إجمالي الصفحات.
الحفاظ على RTL وفواصل صفحات منطقية.

FR-22: التصدير إلى Excel (تقرير واحد)


ملف .xlsx بورقة واحدة باسم التقرير.
RTL، عناوين بالعربية، فواصل آلاف، تجميد الصف الاول والثاني، Auto-fit للاعمدة.

FR-23: التصدير إلى Excel (جميع التقارير)


ملف .xlsx واحد متعدد الاوراق:
صافي_المشتريات، صافي_المبيعات، المخزون_الفعلي، فائض_المخزون، المخزون_النهائي، الجرد_الدفتري، تكلفة_المبيعات، استحقاقات_الموردين، ملخص_الاجماليات
تنسيق RTL، عنوان التقرير بخط عريض ومُدمج، عناوين بخلفية مميزة، تجميد الصفوف الاولى، Auto-fit.

11. متطلبات واجهة المستخدم (UI/UX)

التوجه: دعم RTL كامل عبر Ant Design/React. ملاحظة: لا تُستخدم آليات Qt (مثل QApplication.setLayoutDirection) في هذا المشروع.
الهيكل: تنظيم عبر تبويبات:
المشتريات، المبيعات، المخزون، الارصدة
صافي المشتريات، صافي المبيعات، فائض المخزون
المخزون النهائي، المخزون الدفتري
تكلفة المبيعات، استحقاق الموردين
تقرير حركة مورد، تقارير إضافية
العناوين: كل تبويب يعرض "اسم التقرير (عدد السجلات)".
البحث والتصفية: شريط بحث فوري + فلاتر متقدمة كما في FR-18 وFR-19.
الترتيب: وفق FR-20.
مؤشر التقدم: نافذة منبثقة بشريط تقدم دقيق عند الاستيراد/المعالجة.

12. متطلبات التصدير والطباعة

التصدير إلى Excel:
تقرير واحد: زر "تصدير Excel" لكل تقرير (ورقة واحدة، RTL، عناوين عربية، فواصل آلاف، تجميد الصفوف، Auto-fit).
جميع التقارير: زر "تصدير الكل" (ملف واحد متعدد الاوراق بالاسماء المحددة، تنسيق احترافي).
الطباعة:
زر "طباعة" يفتح معاينة طباعة احترافية بالمتطلبات المذكورة في FR-21.

13. المتطلبات غير الوظيفية (NFR)

الاداء:
استيراد 50,000 سجل ≤ 5 ثوانٍ (جهاز: Core i3, 8GB RAM, SSD).
المعالجة الكاملة لـ 200,000 سجل ≤ 60 ثانية (من بداية الاستيراد حتى اكتمال التقارير).
التصفية لجدول 200,000 سجل ≤ 1 ثانية.
استهلاك الذاكرة ≤ 500MB مع 200,000 سجل محملة.
حجم قاعدة البيانات ≤ 100MB لـ 200,000 سجل.
قابلية الاستخدام:
واجهة عربية 100% مع دعم RTL وخط عربي واضح (مثلاً Tajawal).
سهولة التعلم: مستخدم جديد يستطيع الاستيراد وعرض تقرير خلال ≤ 10 دقائق (واجهة بديهية + Tooltips).
لا تجميد للواجهة اثناء العمليات؛ استخدام Workers/Threads + مؤشرات تقدم.
الموثوقية:
دقة الحسابات 100% وفق اختبارات شاملة.
سلامة البيانات: Transactions + نسخ احتياطي تلقائي قبل كل استيراد + سجل اخطاء.
التعافي من الاخطاء: لا توقف للنظام؛ رسائل واضحة؛ خيار "تجاهل والمتابعة" للاخطاء غير الحرجة.
الامان:
تشفير قاعدة البيانات المحلية بمعيار AES-256.
حماية الملفات المصدّرة (Excel/PDF) بعلامة مائية (شعار الشركة او "سري").
قابلية الصيانة والتوسع:
توثيق الكود: تعليقات/Docstrings عربية لكل دالة ومكوّن.
فصل طبقات UI/Logic/Data (مثل MVC/MVP).
إمكانية إضافة تقارير جديدة دون تعديل الكود الاساسي (Plugin Architecture او Factory Pattern).
التوافقية:
انظمة التشغيل: Windows 10/11، Ubuntu 20.04+، macOS 11+.
Excel: دعم .xlsx (Excel 2007+)؛ قراءة Named Tables؛ كتابة متوافقة مع Excel 2016+.

14. خطة ضمان الجودة والاختبار (QA)

اختبارات وحدة: خصوصاً وحدات المطابقة في NetPurchases/NetSales (إجمالي حتى 18 مستوى).
اختبارات تكامل: سلسلة كاملة من الاستيراد → NetPurchases → NetSales → Physical → Surplus → Ending → Book → Sales Cost → Supplier Payables → تقارير.
اختبارات اداء: وفق حدود الزمن والذاكرة المحددة.
اختبارات واجهة: RTL، الاستجابة، الطباعة، التصفية، الترتيب، التصدير.
قبول المستخدم (UAT): سيناريوهات حقيقية يوفّرها محاسب مسؤول؛ تطابق 100% مع Accountinglogic.md.

15. المخرجات والتسليمات

ملف تنفيذي واحد:
Windows: .exe
macOS: .app
Linux: .AppImage/.bin
تقارير قابلة للتصدير: Excel (.xlsx) + PDF.
واجهة محلية بالكامل بلا اعتماد خارجي اثناء التشغيل.
نسخ احتياطي تلقائي قبل كل استيراد.

16. التنسيقات ومعايير العرض

Excel:
RTL لجميع الاوراق.
عنوان التقرير بخط عريض ومُدمج.
عناوين الاعمدة بخط عريض وخلفية مميّزة.
تجميد الصف الاول والثاني.
ضبط عرض الاعمدة تلقائيًا.
الطباعة:
راس: اسم الشركة، اسم التقرير، التاريخ.
جسم: جدول منسّق بوضوح.
تذييل: رقم الصفحة/إجمالي الصفحات.
فواصل صفحات منطقية (لا تقطع السجلات).
الارقام والتواريخ:
معايير التنسيق الملزمة (تنطبق على الإدخال، التخزين، المعالجة، العرض، التصدير والطباعة)

النطاق:
هذه المعايير إلزامية وتشمل جميع الشاشات والتقارير وعمليات الاستيراد/المعالجة/التصدير والطباعة.
اي تعارض يُحل لصالح هذه المعايير في العرض والتخزين، مع السماح باستثناءات داخلية للمطابقة كما هو مذكور ادناه.

1. الكميات

التنسيق: رقم بعشريتين ثابتتين 00.00
التقريب: تقريب قياسي نصف لاعلى إلى منزلتين عشريتين عند الاستيراد واثناء الحسابات.
فاصل الآلاف: يُستخدم في العرض/التصدير عند الحاجة.
امثلة عرض:
5 → 5.00
1234.5 → 1,234.50
التخزين: تُخزن كاعداد عشرية بمنزلتين (DECIMAL(… ,2)) او ما يكافئها، من دون فواصل آلاف.

2. المبالغ المالية

يشمل: الافرادي (سعر الوحدة)، الإجماليات، سعر الشراء، التكلفة، الربح، الاستحقاقات.
التنسيق: اعداد صحيحة فقط دون اي كسور عشرية (00)، مع إضافة فاصل الآلاف في العرض/التصدير.
التقريب عند الاستيراد: إذا وُجدت كسور، تُقرب إلى اقرب عدد صحيح (تقريب نصف لاعلى).
امثلة عرض:
12.49 → 12
12.50 → 13
1000 → 1,000
التخزين: نوع صحيح (INTEGER) بلا فواصل آلاف.

3. التواريخ

يشمل: تاريخ الصلاحية، تاريخ العملية، تاريخ الشراء واي تواريخ اخرى.
التنسيق: yyyy-mm-dd فقط، دون وقت او منطقة زمنية.
الاستيراد: تُحوّل اي صيغ واردة إلى الصيغة الموحدة؛ السجلات غير القابلة للتحويل تُرفض مع رسالة خطا واضحة.
التخزين: نص ISO بالصيغة yyyy-mm-dd.
العرض/التصدير/الطباعة: كما هو (yyyy-mm-dd).

4. فاصل الآلاف

يُطبق في العرض والتصدير لكل القيم العددية ذات اربعة ارقام فاكثر.
لا يُخزّن داخل قاعدة البيانات او الجداول المؤقتة.

5. التحقق من الصحة (Validation)

الكميات (بعد التطبيع): تطابق ^-?\d+(.\d{1,2})?$
المبالغ المالية (بعد التطبيع): تطابق ^-?\d+$
التواريخ: تطابق ^\d{4}-\d{2}-\d{2}$ مع تحقق منطقي لصلاحية اليوم/الشهر/السنة.
عند فشل التحقق: رسالة خطا تفصيلية، مع خيار تصحيح الملف وإعادة الاستيراد.

6. التوافق مع خوارزميات المطابقة

تبقى خوارزميات FR-01 وFR-02 كما هي، بما في ذلك استخدام "الافرادي بعد التقريب لاقرب رقم عشري" كمفتاح مطابقة داخلي في بعض الخطوات.
هذا التقريب الداخلي لغرض المطابقة فقط، ولا يغيّر قاعدة تمثيل المبالغ المالية كاعداد صحيحة في التخزين/العرض/التصدير.

7. تطبيق القواعد عبر المنظومة

الإدخال (الاستيراد):
تطبيع فوري وفق القواعد اعلاه قبل إدراج السجلات.
اي كسور في المبالغ المالية تُقرب إلى اقرب عدد صحيح (نصف لاعلى).
الكميات تُقرب إلى منزلتين.
التواريخ تُوحّد إلى yyyy-mm-dd.
التخزين:
الكميات: DECIMAL بمنزلتين.
المبالغ المالية: INTEGER.
التواريخ: TEXT بصيغة yyyy-mm-dd.
العرض والتقارير والطباعة:
الكميات 00.00 مع فاصل آلاف.
المبالغ المالية صحيحة بدون كسور مع فاصل آلاف.
التواريخ yyyy-mm-dd.
التصدير إلى Excel:
تنسيق خلايا الكميات كنمط رقمي بمنزلتين.
تنسيق خلايا المبالغ كنمط رقمي صحيح (0) مع فاصل آلاف.
التواريخ كنص/تاريخ بصيغة yyyy-mm-dd (دون وقت/منطقة زمنية).
RTL مفعّل في كل الاوراق.




17. قيود ومتطلبات بيانات

يجب ان تتطابق اسماء اعمدة Excel حرفيًا مع المحدد هنا (بالعربية).
عند اختلاف الاعمدة او فقدانها: يعرض النظام اخطاء تفصيلية ويوقف المعالجة حتى التصحيح.
الاستيراد الجديد يحذف البيانات المؤقتة السابقة ضمن Transaction مع إمكانية الرجوع عند الفشل.

18. ملاحظات تنفيذية مهمة

دعم RTL يُنفّذ عبر React/Ant Design (ConfigProvider direction="rtl" وCSS direction: rtl). لا تُستخدم ادوات Qt.
استخدام مؤشرات تقدم حقيقية اثناء الاستيراد والمعالجة، مع إمكانية إلغاء العمليات غير الحرجة.
تسجيل شامل بمستويي INFO/ERROR، وتخزين السجلات محليًا (ويُفضّل تشفير الملف/المسار ضمن سياسات الامان المعتمدة).

19. معايير القبول

FR-01/FR-02: تطبيق مفاتيح المطابقة بالترتيب، وعدم بقاء مرتجعات يتيمة دون إعادة توجيه للقائمة المقابلة.
FR-03: عدم وجود تناقضات (سالب مقابل موجب لنفس المادة) بعد المعالجة.
FR-04: حساب الفائض وتصنيفه صحيح لكل مادة خلال آخر 90 يوم.
FR-05: ربط المخزون الفعلي بالمشتريات وفق المفاتيح وحساب حقول الحالة/التصنيفات لكل سجل.
FR-06: مطابقة الجرد الدفتري وفق شروط التاريخ؛ تدوين ملاحظة "لا يوجد مشتريات" عند انعدام التطابق.
FR-07: حساب الربحية (افرادي/نسبة/إجمالي) بدقة وتحديد الربح/الخسارة.
FR-08: حساب الاستحقاقات وفق القواعد، مع تمكين تصفية المبالغ المستحقة > 0.
FR-09…FR-17: التقارير تعرض اعداداً صحيحة وتدعم الفلاتر، البحث، والفرز وتتطابق مع مجموعات البيانات.
FR-21/FR-22/FR-23: الطباعة والتصدير تحافظ على RTL والتنسيق والعناوين، مع علامة مائية على الملفات المصدرة.

20. الربط بوثيقة المنطق المحاسبي

المرجع: Accountinglogic.md
الالتزام: تطبيق كامل لاسماء الحقول والاعمدة، تنسيق الارقام والمبالغ والتواريخ، قواعد الفرز والترتيب، وتسلسل العمليات كما هو موثّق.
